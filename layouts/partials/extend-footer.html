<!-- Widget bÃ i viáº¿t gáº§n Ä‘Ã¢y tá»± Ä‘á»™ng hiá»ƒn thá»‹ -->
<div class="recent-posts-widget" id="auto-recent-posts">
    <h3>ğŸ“– BÃ i viáº¿t Ä‘Ã£ xem gáº§n Ä‘Ã¢y</h3>
    <div id="recent-posts-widget">
        <p class="text-gray-500">ChÆ°a cÃ³ bÃ i viáº¿t nÃ o Ä‘Æ°á»£c xem gáº§n Ä‘Ã¢y.</p>
    </div>
    <button class="clear-recent-posts" onclick="RecentPosts.clear()" title="XÃ³a lá»‹ch sá»­ xem">
        ğŸ—‘ï¸ XÃ³a lá»‹ch sá»­
    </button>
</div>

<style>
/* áº¨n widget náº¿u chÆ°a cÃ³ bÃ i viáº¿t nÃ o */
#auto-recent-posts {
    display: none;
}

#auto-recent-posts.has-posts {
    display: block;
}
</style>

<script>
// Hiá»ƒn thá»‹ widget chá»‰ khi cÃ³ bÃ i viáº¿t gáº§n Ä‘Ã¢y
document.addEventListener('DOMContentLoaded', function() {
    function checkAndShowWidget() {
        const recentPosts = JSON.parse(localStorage.getItem('recentPosts') || '[]');
        const widget = document.getElementById('auto-recent-posts');
        
        if (recentPosts.length > 0) {
            widget.classList.add('has-posts');
        } else {
            widget.classList.remove('has-posts');
        }
    }
    
    // Kiá»ƒm tra ngay khi load
    checkAndShowWidget();
    
    // Kiá»ƒm tra láº¡i sau khi JavaScript chÃ­nh cháº¡y xong
    setTimeout(checkAndShowWidget, 1000);
    
    // Override hÃ m clear Ä‘á»ƒ cáº­p nháº­t hiá»ƒn thá»‹
    if (window.RecentPosts) {
        const originalClear = window.RecentPosts.clear;
        window.RecentPosts.clear = function() {
            originalClear();
            checkAndShowWidget();
        };
    }
});
</script>